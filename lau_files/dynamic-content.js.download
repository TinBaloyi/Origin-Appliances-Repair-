"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}document.addEventListener("readystatechange",(function(t){"complete"===t.target.readyState&&function(t){if(!document.querySelector(".page-template-tempate-landing-page-august-2017")){var e=function(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()},o=function(){var e=[[".rfc-pop-up-form-container .rfc-inner form #phone",".rfc-pop-up-form-container .rfc-inner form #countryselector"],[".pop-up-form-container .rfc-section form #phone",".pop-up-form-container .rfc-section form #countryselector"],[".request-consult-form #phone",".request-consult-form #countryselector"],["#request-form #request-phone","#request-form #request-country"],[".request2step #phone2",".request2step #country"]];t(".request-consult-form .countryselector").length&&t(".request-consult-form .phone").length?e.push([".request-consult-form .phone",".request-consult-form .countryselector"]):t('.request-consult-form [name="country"]').length&&t('.request-consult-form [name="phone"]').length&&e.push(['.request-consult-form [name="phone"]','.request-consult-form [name="country"]']),e.forEach((function(e){t(e[0]).length&&t(e[1]).length&&usPhoneFormat(e[0],e[1])}))},r=e("cc_phone");setCookiesPopup("cc_phone",cc_phone_call.cc_phone_json,30),t("[data-phone-dynamic]").css("opacity",1),r=cc_phone_call.cc_phone_json;var a=function(e){var o=JSON.parse(r)[e],a="object"===_typeof(o)?o.phone:"";t("[data-phone-dynamic]").each((function(){this.hasAttribute("data-no-html")||t(this).html(a)})),t("[data-phone-dynamic]").css("opacity",1)};if(document.querySelector(".page-template-template-2020-paid-landing")){if(e("dropdown_country")){var n=e("dropdown_country");a(n)}o()}else{var c=function(e){var r=t(e).attr("data-attr"),n=t(e).attr("data-key"),c=t(e).attr("data-external-link"),i=t(e).html(),s=t(e).index(),u=t(e).closest(".lf-dropdown");if(c)window.open(c,"_blank").focus();else{!function(e,o,r,a){t(".lf-dropdown").each((function(n,c){var i=t(c),s=i.find("ul");i.find(".selected").attr("data-current",a).attr("data-attr",e).attr("data-key",o).html(r),s.stop().hide();var u=s.find('div[data-attr="'+e+'"]');t(u).attr("aria-selected",!0);var l=i.attr("aria-activedescendant");s.find("#"+l).attr("aria-selected","false"),i.attr("aria-activedescendant",u.id),i.find("select option").attr("selected",!1),i.find("select option:eq( "+a+" ) ").attr("selected","true")}))}(r,n,i,s);var l=function(){var t=document.querySelector(".wpml-lang-selector");if(t){var e="";return""!==window.location.search.substring(1)&&(e="?"+window.location.search.substring(1)),{en:t.querySelector(".icl-en > a")?t.querySelector(".icl-en > a").href+e:"#",fr:t.querySelector(".icl-fr > a")?t.querySelector(".icl-fr > a").href+e:"#",es:t.querySelector(".icl-es > a")?t.querySelector(".icl-es > a").href+e:"#"}}}();t.ajax({url:ajaxurl,type:"POST",data:{action:"add_dropdown_cookie",index:s,urls:l},success:function(t){t&&t!==window.location.href&&"#"!==t&&(window.location.href=t)}});var f=u.find(".selected").attr("data-key").toLowerCase();t('[name="country"]').each((function(){var e=t(this).attr("data-change");void 0===f||void 0!==e&&!1!==e||(t(this).val(f),localStorage.setItem("default_rfc_country",f))})),a(n),o()}};t(".lf-dropdown li").on("click",(function(){c(this)})),t(".lf-dropdown li").keydown((function(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),t.stopPropagation(),c(this))})),"number"==typeof marketIDPromo&&t.ajax({url:ajaxurl,type:"POST",data:{action:"get_promo_market",marketID:marketIDPromo},success:function(e){var o=JSON.parse(e);o.status&&t(".promo-ajax-content").css("opacity",1).find("a").attr({href:o.href,title:o.title}).find("img").attr({src:o.src})}}),function(){var r=!1;if(e("dropdown_country")){var n="ca"===(r=e("dropdown_country")).toLowerCase()?"us":r.toLowerCase();t('[name="country"]').each((function(){if(!t(this).hasClass("booking-country")){var e=t(this).attr("data-change");"undefined"!==_typeof(e)&&!1!==e||t(this).val(n)}}))}r&&a(r),o(),t(".lf-dropdown li[data-attr]").each((function(){if(r&&t(this).attr("data-key")===r){var e=t(this).attr("data-attr"),o=t(this).attr("data-key"),a=t(this).html(),n=t(this).index(),c=t(this).closest(".lf-dropdown");c.find(".selected").attr("data-current",n).attr("data-attr",e).attr("data-key",o).html(a),c.find("ul").stop().hide(),c.find("select option").attr("selected",!1),c.find("select option:eq( "+n+" ) ").attr("selected",!0)}}))}();var i,s=function(e){"/es/bare-rfc-mx/"===window.location.pathname&&(e="mx"),t('[name="country"]').each((function(){var o=t(this).attr("data-change");void 0===e||void 0!==o&&!1!==o||t(this).val(e)}))};(i=localStorage.getItem("default_rfc_country"))?s(i):t.ajax({url:ajaxurl,type:"POST",data:{action:"cc_get_user_default_rfc_country"},success:function(t){(i=JSON.parse(t))&&(s(i),localStorage.setItem("default_rfc_country",i))}})}}}(jQuery)}));
//# sourceMappingURL=maps/dynamic-content.js.map
