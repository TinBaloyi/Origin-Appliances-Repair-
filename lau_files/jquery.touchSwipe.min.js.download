"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}((function(e){var n="left",t="right",r="up",i="down",o="in",l="out",u="none",a="auto",s="swipe",c="pinch",p="tap",f="doubletap",h="longtap",d="horizontal",g="vertical",w="all",v=10,T="start",b="move",y="end",S="cancel",m="ontouchstart"in window,E=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,O=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,x="TouchSwipe";function M(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=u),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n||(n={}),n=e.extend({},e.fn.swipe.defaults,n),this.each((function(){var t=e(this),r=t.data(x);r||(r=new P(this,n),t.data(x,r))}))}function P(M,P){var D=m||O||!P.fallbackToMouseEvents,L=D?O?E?"MSPointerDown":"pointerdown":"touchstart":"mousedown",R=D?O?E?"MSPointerMove":"pointermove":"touchmove":"mousemove",k=D?O?E?"MSPointerUp":"pointerup":"touchend":"mouseup",A=D?null:"mouseleave",I=O?E?"MSPointerCancel":"pointercancel":"touchcancel",N=0,U=null,_=0,H=0,j=0,Q=1,C=0,X=0,Y=null,q=e(M),W="start",F=0,V=null,z=0,G=0,Z=0,B=0,J=0,K=null,$=null;try{q.bind(L,ee),q.bind(I,re)}catch(n){e.error("events not supported "+L+","+I+" on jQuery.swipe")}function ee(o){if(!0!==q.data(x+"_intouch")&&!(e(o.target).closest(P.excludedElements,q).length>0)){var l,u=o.originalEvent?o.originalEvent:o,a=u.touches,s=a?a[0]:u;return W=T,a?F=a.length:o.preventDefault(),N=0,U=null,X=null,_=0,H=0,j=0,Q=1,C=0,V=function(){for(var e=[],n=0;n<=5;n++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}(),Y=function(){var e={};return e[n]=Le(n),e[t]=Le(t),e[r]=Le(r),e[i]=Le(i),e}(),Ee(),!a||F===P.fingers||P.fingers===w||he()?(Me(0,s),z=Ae(),2==F&&(Me(1,a[1]),H=j=ke(V[0].start,V[1].start)),(P.swipeStatus||P.pinchStatus)&&(l=ue(u,W))):l=!1,!1===l?(ue(u,W=S),l):(P.hold&&($=setTimeout(e.proxy((function(){q.trigger("hold",[u.target]),P.hold&&(l=P.hold.call(q,u,u.target))}),this),P.longTapThreshold)),xe(!0),null)}}function ne(s){var c=s.originalEvent?s.originalEvent:s;if(W!==y&&W!==S&&!Oe()){var p,f=c.touches,h=Pe(f?f[0]:c);if(G=Ae(),f&&(F=f.length),P.hold&&clearTimeout($),W=b,2==F&&(0==H?(Me(1,f[1]),H=j=ke(V[0].start,V[1].start)):(Pe(f[1]),j=ke(V[0].end,V[1].end),V[0].end,V[1].end,X=Q<1?l:o),Q=function(e,n){var t=n/e*1;return t.toFixed(2)}(H,j),C=Math.abs(H-j)),F===P.fingers||P.fingers===w||!f||he()){if(U=function(e,o){var l=function(e,n){var t=e.x-n.x,r=n.y-e.y,i=Math.atan2(r,t),o=Math.round(180*i/Math.PI);o<0&&(o=360-Math.abs(o));return o}(e,o);return l<=45&&l>=0||l<=360&&l>=315?n:l>=135&&l<=225?t:l>45&&l<135?i:r}(h.start,h.end),function(e,o){if(!1===P.preventDefaultEvents)return;if(P.allowPageScroll===u)e.preventDefault();else{var l=P.allowPageScroll===a;switch(o){case n:(P.swipeLeft&&l||!l&&P.allowPageScroll!=d)&&e.preventDefault();break;case t:(P.swipeRight&&l||!l&&P.allowPageScroll!=d)&&e.preventDefault();break;case r:(P.swipeUp&&l||!l&&P.allowPageScroll!=g)&&e.preventDefault();break;case i:(P.swipeDown&&l||!l&&P.allowPageScroll!=g)&&e.preventDefault()}}}(s,U),N=function(e,n){return Math.round(Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)))}(h.start,h.end),_=Re(),function(e,n){n=Math.max(n,De(e)),Y[e].distance=n}(U,N),(P.swipeStatus||P.pinchStatus)&&(p=ue(c,W)),!P.triggerOnTouchEnd||P.triggerOnTouchLeave){var v=!0;if(P.triggerOnTouchLeave){var T=function(n){n=e(n);var t=n.offset(),r={left:t.left,right:t.left+n.outerWidth(),top:t.top,bottom:t.top+n.outerHeight()};return r}(this);v=function(e,n){return e.x>n.left&&e.x<n.right&&e.y>n.top&&e.y<n.bottom}(h.end,T)}!P.triggerOnTouchEnd&&v?W=le(b):P.triggerOnTouchLeave&&!v&&(W=le(y)),W!=S&&W!=y||ue(c,W)}}else ue(c,W=S);!1===p&&ue(c,W=S)}}function te(e){var n=e.originalEvent?e.originalEvent:e,t=n.touches;return t&&t.length?(Z=Ae(),B=event.touches.length+1,!0):(Oe()&&(F=B),G=Ae(),_=Re(),ce()||!se()?ue(n,W=S):P.triggerOnTouchEnd||0==P.triggerOnTouchEnd&&W===b?(e.preventDefault(),ue(n,W=y)):!P.triggerOnTouchEnd&&ye()?ae(n,W=y,p):W===b&&ue(n,W=S),xe(!1),null)}function re(){F=0,G=0,z=0,H=0,j=0,Q=1,Ee(),xe(!1)}function ie(e){var n=e.originalEvent?e.originalEvent:e;P.triggerOnTouchLeave&&ue(n,W=le(y))}function oe(){q.unbind(L,ee),q.unbind(I,re),q.unbind(R,ne),q.unbind(k,te),A&&q.unbind(A,ie),xe(!1)}function le(e){var n=e,t=pe(),r=se(),i=ce();return!t||i?n=S:!r||e!=b||P.triggerOnTouchEnd&&!P.triggerOnTouchLeave?!r&&e==y&&P.triggerOnTouchLeave&&(n=S):n=y,n}function ue(e,n){var t,r=e.touches;return ve()||we()||de()||he()?((ve()||we())&&(t=ae(e,n,s)),(de()||he())&&!1!==t&&(t=ae(e,n,c))):me()&&Se()&&!1!==t?t=ae(e,n,f):_>P.longTapThreshold&&N<v&&P.longTap&&!1!==t?t=ae(e,n,h):1!==F&&m||!(isNaN(N)||N<P.threshold)||!ye()||!1===t||(t=ae(e,n,p)),n===S&&re(),n===y&&(r&&r.length||re()),t}function ae(u,a,d){var g;if(d==s){if(q.trigger("swipeStatus",[a,U||null,N||0,_||0,F,V]),P.swipeStatus&&!1===(g=P.swipeStatus.call(q,u,a,U||null,N||0,_||0,F,V)))return!1;if(a==y&&ge()){if(q.trigger("swipe",[U,N,_,F,V]),P.swipe&&!1===(g=P.swipe.call(q,u,U,N,_,F,V)))return!1;switch(U){case n:q.trigger("swipeLeft",[U,N,_,F,V]),P.swipeLeft&&(g=P.swipeLeft.call(q,u,U,N,_,F,V));break;case t:q.trigger("swipeRight",[U,N,_,F,V]),P.swipeRight&&(g=P.swipeRight.call(q,u,U,N,_,F,V));break;case r:q.trigger("swipeUp",[U,N,_,F,V]),P.swipeUp&&(g=P.swipeUp.call(q,u,U,N,_,F,V));break;case i:q.trigger("swipeDown",[U,N,_,F,V]),P.swipeDown&&(g=P.swipeDown.call(q,u,U,N,_,F,V))}}}if(d==c){if(q.trigger("pinchStatus",[a,X||null,C||0,_||0,F,Q,V]),P.pinchStatus&&!1===(g=P.pinchStatus.call(q,u,a,X||null,C||0,_||0,F,Q,V)))return!1;if(a==y&&fe())switch(X){case o:q.trigger("pinchIn",[X||null,C||0,_||0,F,Q,V]),P.pinchIn&&(g=P.pinchIn.call(q,u,X||null,C||0,_||0,F,Q,V));break;case l:q.trigger("pinchOut",[X||null,C||0,_||0,F,Q,V]),P.pinchOut&&(g=P.pinchOut.call(q,u,X||null,C||0,_||0,F,Q,V))}}return d==p?a!==S&&a!==y||(clearTimeout(K),clearTimeout($),Se()&&!me()?(J=Ae(),K=setTimeout(e.proxy((function(){J=null,q.trigger("tap",[u.target]),P.tap&&(g=P.tap.call(q,u,u.target))}),this),P.doubleTapThreshold)):(J=null,q.trigger("tap",[u.target]),P.tap&&(g=P.tap.call(q,u,u.target)))):d==f?a!==S&&a!==y||(clearTimeout(K),J=null,q.trigger("doubletap",[u.target]),P.doubleTap&&(g=P.doubleTap.call(q,u,u.target))):d==h&&(a!==S&&a!==y||(clearTimeout(K),J=null,q.trigger("longtap",[u.target]),P.longTap&&(g=P.longTap.call(q,u,u.target)))),g}function se(){var e=!0;return null!==P.threshold&&(e=N>=P.threshold),e}function ce(){var e=!1;return null!==P.cancelThreshold&&null!==U&&(e=De(U)-N>=P.cancelThreshold),e}function pe(){return!P.maxTimeThreshold||!(_>=P.maxTimeThreshold)}function fe(){var e=Te(),n=be(),t=null===P.pinchThreshold||C>=P.pinchThreshold;return e&&n&&t}function he(){return!!(P.pinchStatus||P.pinchIn||P.pinchOut)}function de(){return!(!fe()||!he())}function ge(){var e=pe(),n=se(),t=Te(),r=be();return!ce()&&r&&t&&n&&e}function we(){return!!(P.swipe||P.swipeStatus||P.swipeLeft||P.swipeRight||P.swipeUp||P.swipeDown)}function ve(){return!(!ge()||!we())}function Te(){return F===P.fingers||P.fingers===w||!m}function be(){return 0!==V[0].end.x}function ye(){return!!P.tap}function Se(){return!!P.doubleTap}function me(){if(null==J)return!1;var e=Ae();return Se()&&e-J<=P.doubleTapThreshold}function Ee(){Z=0,B=0}function Oe(){var e=!1;Z&&(Ae()-Z<=P.fingerReleaseThreshold&&(e=!0));return e}function xe(e){!0===e?(q.bind(R,ne),q.bind(k,te),A&&q.bind(A,ie)):(q.unbind(R,ne,!1),q.unbind(k,te,!1),A&&q.unbind(A,ie,!1)),q.data(x+"_intouch",!0===e)}function Me(e,n){var t=void 0!==n.identifier?n.identifier:0;return V[e].identifier=t,V[e].start.x=V[e].end.x=n.pageX||n.clientX,V[e].start.y=V[e].end.y=n.pageY||n.clientY,V[e]}function Pe(e){var n=function(e){for(var n=0;n<V.length;n++)if(V[n].identifier==e)return V[n]}(void 0!==e.identifier?e.identifier:0);return n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function De(e){if(Y[e])return Y[e].distance}function Le(e){return{direction:e,distance:0}}function Re(){return G-z}function ke(e,n){var t=Math.abs(e.x-n.x),r=Math.abs(e.y-n.y);return Math.round(Math.sqrt(t*t+r*r))}function Ae(){return(new Date).getTime()}this.enable=function(){return q.bind(L,ee),q.bind(I,re),q},this.disable=function(){return oe(),q},this.destroy=function(){oe(),q.data(x,null),q=null},this.option=function(n,t){if(void 0!==P[n]){if(void 0===t)return P[n];P[n]=t}else e.error("Option "+n+" does not exist on jQuery.swipe.options");return null}}e.fn.swipe=function(n){var t=e(this),r=t.data(x);if(r&&"string"==typeof n){if(r[n])return r[n].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(!(r||"object"!==_typeof(n)&&n))return M.apply(this,arguments);return t},e.fn.swipe.version="1.6.9",e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0},e.fn.swipe.phases={PHASE_START:T,PHASE_MOVE:b,PHASE_END:y,PHASE_CANCEL:S},e.fn.swipe.directions={LEFT:n,RIGHT:t,UP:r,DOWN:i,IN:o,OUT:l},e.fn.swipe.pageScroll={NONE:u,HORIZONTAL:d,VERTICAL:g,AUTO:a},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:w}}));
//# sourceMappingURL=maps/jquery.touchSwipe.min.js.map
