"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(){var e=!1,t=!1,n=!1,r=!1,o=!1,a="<span>"+lang.submit_text+"</span>",c=[],i=document.querySelector("#cc-recaptcha"),s=function e(){var o=!0;n&&n.forEach((function(t){t.removeEventListener("change",e),t.removeEventListener("keydown",e)})),r&&r.querySelector(".selected")?r.removeEventListener("click",e):r&&(o=!1),o&&t.disabled&&(t.disabled=!1)},l=new MutationObserver((function(e,n){var r,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var c=r.value;if(!grecaptcha.getResponse()&&"style"===c.attributeName&&0==c.target[c.attributeName].opacity){t.innerHTML=a,s(),n.disconnect();break}}}catch(e){o.e(e)}finally{o.f()}})),u=function(o){(grecaptcha.reset(),l.disconnect(),o&&e)&&fetch(ajaxurl,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:"action=verify_recaptcha_secret&token="+o}).then((function(o){o.json().then((function(o){t.innerHTML=a,o.success&&((n=e.closest("form").querySelectorAll("input, select")).forEach((function(e){e.addEventListener("change",s),e.addEventListener("keydown",s)})),document.querySelector("#lstDates")&&document.querySelector("#date").classList.contains("active")&&(r=document.querySelector("#lstDates")).addEventListener("click",s),e.disabled=!1,e.click())}))})).catch((function(e){}))};window.recaptchaLoaded=function(){if(i){var e=i.dataset.sitekey;""!==e&&(grecaptcha.render(i,{sitekey:e,size:"invisible",badge:"bottomleft",callback:u}),o=!0)}};var d=function e(){var t=document.getElementById("ccRecaptchaRequest"),n=document.getElementsByTagName("head")[0],r=document.createElement("script"),o="https://www.google.com/recaptcha/api.js?onload=recaptchaLoaded&render=explicit";void 0!==("undefined"==typeof wpml_lang?"undefined":_typeof(wpml_lang))&&(o+="&hl=".concat(wpml_lang)),r.id="ccRecaptchaRequest",r.type="text/javascript",r.src=o,t||n.appendChild(r),c.forEach((function(t){t.removeEventListener("click",e)}))};i&&setTimeout((function(){!function(){var n=document.querySelector(".request-form__page");if(!n||!n.classList.contains("form--loading")){var r=document.querySelectorAll(".booking-form form button, .request-consult-form button, .free-consultation-form button, .request2step button, #frmStepTwo button, #frmBookingDate button, .cta-newsletter form.signup-form button");r&&r.forEach((function(n){if(!(void 0!==n.id&&"btnShowMore"===n.id||void 0!==n.id&&"close-rfc-dropdown-btn"===n.id)){var r=n.closest("form");c.push(r);var i=document.createElement("button");i.type="submit",n.hasAttribute("class")&&(i.classList=n.classList),i.classList.add("recaptcha-btn"),i.innerHTML=n.innerHTML,n.disabled=!0,n.classList.add("hidden"),n.parentNode.insertBefore(i,n),r.addEventListener("click",d),i.addEventListener("click",(function(r){if(r.preventDefault(),r.stopPropagation(),t=r.currentTarget,e=n,a=n.innerHTML,t.disabled=!0,null===n.closest("form.signup-form")?t.innerHTML="<span>"+lang.form_loading+"</span>":t.innerHTML=lang.form_loading,!o)return t.disabled=!1,t.innerHTML="<span>"+a+"</span>",d(),!1;grecaptcha.execute();var c=document.querySelector('iframe[title*="recaptcha"]');if(c){var i=c.parentNode;i.classList.add("recaptcha-challenge"),l.observe(i.parentNode,{attributeFilter:["style"],attributes:!0})}return!1}))}}))}}()}),500)}();
//# sourceMappingURL=maps/recaptcha.js.map
