"use strict";!function(e){var r;(e(".btn--request-form").length||e(".request-consult-btn").length)&&(r=function(r){return 0==e.trim(r).length},e(document).on("click",".btn--request-form, .request-consult-btn",(function(){tagTrimFormFields(this),e(this).prop("disabled",!0),e("p.error-message").remove(),e("form .fa").css("display","none");var a=e(this).parents("form.request-consult-form"),s=e(this).parents(".pop-up-form-container"),o=a.data("redirect-url"),t=e(this).parents(".rfc-pop-up").length,n={firstname:a.find('.first-name, [name="first_name"]'),lastname:a.find('.last-name, [name="last_name"]'),email:a.find('.email, [name="email"]'),phone:a.find('.phone, [name="phone"]'),zip:a.find('.city-state-zip, [name="city_state_zip"]'),country:a.find('.countryselector, [name="country"]'),privacycheck:a.find('.privacy-check, [name="privacy-check"]')},i=!1,p=!1,l="";1!=n.privacycheck.is(":checked")&&1!=n.privacycheck.val()||(l=n.privacycheck.val());var c=a.serialize()+"&action=request_consultation_form_step_1&wpml_lang="+wpml_lang+"&privacy-check="+l;o&&(c+="&ThankYouURL="+o),a.find("input").css("border-color","#000"),a.find(".errors_below").css("display","none").attr("role",""),s.length>0&&s.attr("data-store")&&""!=s.attr("data-store")&&(i=s.attr("data-store")),(0==n.firstname.val().length||r(n.firstname.val()))&&(n.firstname.after('<p class="error-message">'+errors.first_name+"</p>"),n.firstname.css("border-color","#f00"),a.find("#first_name_fa, .error-icon--first-name").css("display","block"),p=!0),(0==n.lastname.val().length||r(n.lastname.val()))&&(n.lastname.after('<p class="error-message">'+errors.last_name+"</p>"),n.lastname.css("border-color","#f00"),a.find("#last_name_fa, .error-icon--last-name").css("display","block"),p=!0),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n.email.val())&&0!=n.email.val().length||(n.email.after('<p class="error-message">'+errors.email+"</p>"),n.email.css("border-color","#f00"),a.find("#email_fa, .error-icon--email").css("display","block"),p=!0);var d,m=n.phone.val().replace(/[- )(]/g,""),f=/^[0-9]*$/.test(m),u=n.country.val(),_=!1,h=10;if("mx"==u&&(h=10,_=!0),!f||"0000000000"==m||m.length<10||m.length>h?(_?(n.phone.after('<p class="error-message">'+errors.pop_up_form_mexico_phone_hint+"</p>"),n.phone.after('<p class="error-message">'+errors.onlynumber+"</p>")):n.phone.after('<p class="error-message">'+errors.pop_up_form_usa_phone_hint+"</p>"),n.phone.css("border-color","#f00"),a.find("#phone_fa, .error-icon--phone").css("display","block"),p=!0):"mx"!==u&&10!==m.length&&(n.phone.after('<p class="error-message">'+errors.pop_up_form_usa_phone_hint+"</p>"),n.phone.css("border-color","#f00"),a.find("#phone_fa, .error-icon--phone").css("display","block"),p=!0),!u&&n.country.is("select")&&(n.country.after('<p class="error-message">'+errors.select_country+"</p>"),n.country.css("border-color","#f00"),a.find(".error-icon--country").css("display","block"),p=!0),0==n.zip.val().length||r(n.zip.val()))n.zip.after('<p class="error-message">'+errors.zipcode+"</p>"),n.zip.css("border-color","#f00"),a.find("#city_state_zip_fa, .error-icon--zip").css("display","block"),p=!0;else{var g=n.zip.val().replace(/ /g,""),b=errors.step_2_us_zip_code_hint;if(u){var y=(d=g,"ca"===u?(b=errors.step_2_ca_zip_code_hint,/^([A-Z][0-9][A-Z])\s*([0-9][A-Z][0-9])$/.test(d)):/^([0-9]{5})(?:[-\s]*([0-9]{4}))?$/.test(d));n.zip.attr({maxLength:10}),(!y||"A0A0A0"==g||"000000000"==g||g.length<5||g.length>10)&&(n.zip.after('<p class="error-message">'+b+"</p>"),n.zip.css("border-color","#f00"),a.find("#city_state_zip_fa, .error-icon--zip").css("display","block"),p=!0)}}if(p)return a.find(".errors_below").css("display","block"),e(this).prop("disabled",!1),!1;var v=null==localStorage.getItem("lead_origin")?"usa":localStorage.getItem("lead_origin");window.dataLayer=window.dataLayer||[],dataLayer.push({event:"rfc_step1_complete",lead_origin:v}),e(".request-consultation-drop-loader").show();var z=window.location.pathname.split("/");return"syracuse"==z[z.length-2]&&"our-work"!=z[z.length-4]&&(setCookiesPopup("market-request-form-step-two","syracuse",1),setCookiesPopup("market-request-form","syracuse",1)),e.ajax({type:"POST",url:ajaxurl,data:c,beforeSend:function(r){e(".request-consult-btn").length&&e(".request-consult-btn").attr("disabled","disabled"),e(".btn--request-form").length&&e(".btn--request-form").attr("disabled","disabled")},success:function(r){e(".request-consultation-drop-loader").hide(),e(".request-consult-form-res").html(r),setTimeout((function(){e(".request-consult-form input").css({"border-color":"#333"}),e(".intake-response p.success-message").remove()}),5e3),r.indexOf("window.location.href")>-1&&(""!==l&&dataLayer.push({event:"subscribeToNewsletterStep1"}),t>0?dataLayer.push({event:"formSubmitPopup"}):s.length>0?i?dataLayer.push({event:"formSubmitpopUpB",showroomName:i}):dataLayer.push({event:"formSubmitPopupB"}):dataLayer.push({event:"formSubmitStep1"}))}}),!1}))),e("button.continue").length&&e("button.continue").on("click",(function(){var r=e(this),a=e(this).parents("form");if(e("p.error-message").remove(),r.prop("disabled",!0),e(a).find('[name="country"]').val().length<2)return e(a).find('[name="country"]').parents(".csselect").append('<p class="error-message" role="alert">'+errors.required+"</p>"),r.prop("disabled",!1),!1;var s=e(a).find('[name="zipcode"]').val(),o=!1;if(s<1?o=errors.required:"ca"==e(a).find('[name="country"]').val()?(e(a).find('[name="zipcode"]').attr({maxLength:7}),(!/^([a-zA-Z][0-9][a-zA-Z])\s*([0-9][a-zA-Z][0-9])$/.test(s)||s.length<6||s.length>7||"A0A0A0"===s)&&(o=errors.step_2_ca_zip_code_hint)):(e(a).find('[name="zipcode"]').attr({maxLength:10}),/^(\d{5}(|-\d{4}))$/.test(s)&&"00000"!==s&&"00000-0000"!==s||(o=errors.step_2_us_zip_code_hint)),!1!==o)return e(a).find('[name="zipcode"]').after('<p class="error-message" role="alert">'+o+"</p>"),r.prop("disabled",!1),!1;if("mx"==e(a).find('[name="country"]').val()){if(!/[0-9]{10,10}/.test(e(a).find('[name="phone2"]').val()))return e(a).find('[name="phone2"]').after('<p class="error-message" role="alert">'+errors.popup_form_required_field+"</p>"),e(a).find('[name="phone2"]').after('<p class="error-message" role="alert">'+errors.pop_up_form_phone_help_text+"</p>"),e(a).find('[name="phone2"]').after('<p class="error-message" role="alert">'+errors.pop_up_form_mexico_phone_hint+"</p>"),r.prop("disabled",!1),!1}else if(!/[0-9]{10,10}/.test(e(a).find('[name="phone2"]').val().replace(/[- )(]/g,"")))return e(a).find('[name="phone2"]').after('<p class="error-message" role="alert">'+errors.popup_form_required_field+"</p>"),e(a).find('[name="phone2"]').after('<p class="error-message" role="alert">'+errors.pop_up_form_phone_help_text+"</p>"),e(a).find('[name="phone2"]').after('<p class="error-message" role="alert">'+errors.pop_up_form_usa_phone_hint+"</p>"),r.prop("disabled",!1),!1;var t=e(a).find('[name="sms"]');if(t.length&&!t.is(":checked"))return t.parents(".radio").append('<p class="error-message" role="alert">'+errors.required+"</p>"),r.prop("disabled",!1),!1;var n=e(a).find('[name="about-your-space"]').val().trim();if(0!=n.length&&(-1!=n.indexOf("<")||-1!=n.indexOf(">")))return e(a).find('[name="about-your-space"]').after('<p class="error-message" role="alert">'+errors.step2_about_special_characters+"</p>"),r.prop("disabled",!1),!1;var i=e(".request2step").serialize()+"&action=request_consultation_form&wpml_lang="+wpml_lang;e(".request-consultation-drop-loader").show(),e.post(ajaxurl,i,(function(a){e(".request-consultation-drop-loader").hide(),e(".request-consult-form-res").html(a),r.prop("disabled",!1),setTimeout((function(){e(".request-consult-form input").css({"border-color":"#333"}),e(".intake-response p.success-message").remove()}),5e3)}));var p=null==localStorage.getItem("lead_origin")?"usa":localStorage.getItem("lead_origin");return window.dataLayer=window.dataLayer||[],dataLayer.push({event:"rfc_step2_complete",lead_origin:p}),!1}))}(jQuery);
//# sourceMappingURL=maps/rfc-validation.js.map
